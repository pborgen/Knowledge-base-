class t extends Error{constructor(t){super(t.statusText),Object.setPrototypeOf(this,new.target.prototype),this.headers=t.headers,this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data}}let e,o;"rawJSON"in JSON&&(e=function(t,e,o){if(Number.isInteger(e)&&!Number.isSafeInteger(e))try{return BigInt(o.source)}catch{return e}return e},o=function(t,e){return"bigint"==typeof e?JSON.rawJSON(String(e)):e});const i=t=>"post"===t||"put"===t||"patch"===t||"delete"===t;function a(t,e,o){let a={};return i(t)?o.forEach((t=>{a[t]=e[t],delete e[t]})):a={...e},function(t){const e=[],o=(t,e)=>`${encodeURIComponent(t)}=${encodeURIComponent(String(e))}`;return Object.keys(t).forEach((i=>{const a=t[i];null!=a&&(Array.isArray(a)?a.forEach((t=>e.push(o(i,t)))):e.push(o(i,a)))})),e.length>0?`?${e.join("&")}`:""}(a)}function s(t,e){const o=new Headers(t?.headers),i=new Headers(e?.headers);for(const t of i.keys()){const e=i.get(t);null!=e&&o.set(t,e)}return{...t,...e,headers:o}}function n(t){const e=Object.assign(Array.isArray(t.payload)?[]:{},t.payload),s=function(t,e){return t.replace(/\{([^}]+)\}/g,((t,o)=>{const i=encodeURIComponent(e[o]);return delete e[o],i}))}(t.path,e),n=a(t.method,e,t.queryParams),r=function(t,e){if(!i(t))return;const a=e instanceof FormData?e:JSON.stringify(e,o);return"delete"===t&&"{}"===a?void 0:a}(t.method,e),c=i(t.method)?function(t,e){const o=new Headers(e);return void 0===t||t instanceof FormData||o.has("Content-Type")||o.append("Content-Type","application/json"),o.has("Accept")||o.append("Accept","application/json"),o}(r,t.init?.headers):new Headers(t.init?.headers);return{url:t.baseUrl+s+n,init:{...t.init,method:t.method.toUpperCase(),headers:c,body:r}}}async function r(o,i){const a=await fetch(o,i),s=await async function(t){if(204===t.status)return;const o=t.headers.get("content-type"),i=await t.text();if(o&&o.includes("application/json"))return JSON.parse(i,e);try{return JSON.parse(i,e)}catch(t){return i}}(a),n={headers:a.headers,url:a.url,ok:a.ok,status:a.status,statusText:a.statusText,data:s};if(n.ok)return n;throw new t(n)}function c(){let e="",o={};const i=[],a=function(t,e){const o=async(i,a,s)=>{if(null==t||i===t.length)return e(a,s);const n=t[i];return await n(a,s,((t,e)=>o(i+1,t,e)))};return(t,e)=>o(0,t,e)}(i,r);return{configure:t=>{e=t.baseUrl||"",o=t.init||{},i.splice(0),i.push(...t.use||[])},use:t=>i.push(t),path:i=>({method:r=>({create:c=>function(e){const o=async(i,a)=>{try{return await e(i,a)}catch(e){if(e instanceof t)throw new o.Error(e);throw e}};return o.Error=class extends t{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}getActualType(){return{status:this.status,data:this.data}}},o}(((t,l)=>async function(t){const{url:e,init:o}=n(t);return await t.fetch(e,o)}({baseUrl:e||"",path:i,method:r,queryParams:Object.keys(c||{}),payload:t,init:s(o,l),fetch:a})))})})}}const l=()=>c();class h extends Error{constructor(t){super(t),this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class p extends h{static forResponse(t){const e=`${`${t.status}`} ${t.statusText?`(${t.statusText})`:"(Unrecognized Status Code)"}`.trim(),o=t.data?JSON.stringify(t.data,null,2):null;let i="";o&&(i=o.length<=200?o:o.slice(0,-4)+" ...");return new p(`Unexpected Response: ${e}\n${`Raw response content:\n${i}`}`)}}class d extends h{}class u extends h{}class m extends h{constructor(t,e){super(t);const o=Number(e);if(isNaN(o))throw new h(`Invalid retryAfter value: ${e}`);this.retry_after=o,Object.setPrototypeOf(this,new.target.prototype)}}function _(e,o){const i=function(e,{headers:o,timeout:i,connections:a}){const s=[];Number.isFinite(i)&&s.push((async(t,e,o)=>{const a=new AbortController,s=setTimeout((()=>a.abort()),i);try{return await o(t,Object.assign(e,{signal:a.signal}))}catch(t){if(t instanceof Error&&"AbortError"===t.name)throw new u(t.message);throw t}finally{clearTimeout(s)}}));s.push((async(e,o,i)=>{let a;try{if(a=await i(e,o),200===a.status||201===a.status)return a}catch(e){if(e instanceof t&&429===e.status){const t=e.headers.get("retry-after")?.[0];if(t)throw new m(e.message,t)}throw e}throw p.forResponse(a)}));const n=l();return n.configure({baseUrl:e,init:{headers:o,dispatcher:void 0},use:s}),n}(e,o);return function(t){return{listShardKeys:t.path("/collections/{collection_name}/shards").method("get").create(),createShardKey:t.path("/collections/{collection_name}/shards").method("put").create({timeout:!0}),deleteShardKey:t.path("/collections/{collection_name}/shards/delete").method("post").create({timeout:!0}),root:t.path("/").method("get").create(),telemetry:t.path("/telemetry").method("get").create(),metrics:t.path("/metrics").method("get").create(),healthz:t.path("/healthz").method("get").create(),livez:t.path("/livez").method("get").create(),readyz:t.path("/readyz").method("get").create(),getIssues:t.path("/issues").method("get").create(),clearIssues:t.path("/issues").method("delete").create(),clusterStatus:t.path("/cluster").method("get").create(),clusterTelemetry:t.path("/cluster/telemetry").method("get").create(),recoverCurrentPeer:t.path("/cluster/recover").method("post").create(),removePeer:t.path("/cluster/peer/{peer_id}").method("delete").create({timeout:!0,force:!0}),getCollections:t.path("/collections").method("get").create(),getCollection:t.path("/collections/{collection_name}").method("get").create(),createCollection:t.path("/collections/{collection_name}").method("put").create({timeout:!0}),deleteCollection:t.path("/collections/{collection_name}").method("delete").create({timeout:!0}),updateCollection:t.path("/collections/{collection_name}").method("patch").create({timeout:!0}),updateAliases:t.path("/collections/aliases").method("post").create({timeout:!0}),createFieldIndex:t.path("/collections/{collection_name}/index").method("put").create({wait:!0,ordering:!0,timeout:!0}),collectionExists:t.path("/collections/{collection_name}/exists").method("get").create(),deleteFieldIndex:t.path("/collections/{collection_name}/index/{field_name}").method("delete").create({wait:!0,ordering:!0,timeout:!0}),collectionClusterInfo:t.path("/collections/{collection_name}/cluster").method("get").create(),updateCollectionCluster:t.path("/collections/{collection_name}/cluster").method("post").create({timeout:!0}),getOptimizations:t.path("/collections/{collection_name}/optimizations").method("get").create(),getCollectionAliases:t.path("/collections/{collection_name}/aliases").method("get").create(),getCollectionsAliases:t.path("/aliases").method("get").create(),recoverFromUploadedSnapshot:t.path("/collections/{collection_name}/snapshots/upload").method("post").create({wait:!0,priority:!0,checksum:!0}),recoverFromSnapshot:t.path("/collections/{collection_name}/snapshots/recover").method("put").create({wait:!0}),listSnapshots:t.path("/collections/{collection_name}/snapshots").method("get").create(),createSnapshot:t.path("/collections/{collection_name}/snapshots").method("post").create({wait:!0}),getSnapshot:t.path("/collections/{collection_name}/snapshots/{snapshot_name}").method("get").create(),deleteSnapshot:t.path("/collections/{collection_name}/snapshots/{snapshot_name}").method("delete").create({wait:!0}),listFullSnapshots:t.path("/snapshots").method("get").create(),createFullSnapshot:t.path("/snapshots").method("post").create({wait:!0}),getFullSnapshot:t.path("/snapshots/{snapshot_name}").method("get").create(),deleteFullSnapshot:t.path("/snapshots/{snapshot_name}").method("delete").create({wait:!0}),streamShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshot").method("get").create(),recoverShardFromUploadedSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/upload").method("post").create({wait:!0,priority:!0,checksum:!0}),recoverShardFromSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/recover").method("put").create({wait:!0}),listShardSnapshots:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots").method("get").create(),createShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots").method("post").create({wait:!0}),getShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/{snapshot_name}").method("get").create(),deleteShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/{snapshot_name}").method("delete").create({wait:!0}),getPoint:t.path("/collections/{collection_name}/points/{id}").method("get").create(),upsertPoints:t.path("/collections/{collection_name}/points").method("put").create({wait:!0,ordering:!0,timeout:!0}),getPoints:t.path("/collections/{collection_name}/points").method("post").create({consistency:!0,timeout:!0}),deletePoints:t.path("/collections/{collection_name}/points/delete").method("post").create({wait:!0,ordering:!0,timeout:!0}),updateVectors:t.path("/collections/{collection_name}/points/vectors").method("put").create({wait:!0,ordering:!0,timeout:!0}),deleteVectors:t.path("/collections/{collection_name}/points/vectors/delete").method("post").create({wait:!0,ordering:!0,timeout:!0}),overwritePayload:t.path("/collections/{collection_name}/points/payload").method("put").create({wait:!0,ordering:!0,timeout:!0}),setPayload:t.path("/collections/{collection_name}/points/payload").method("post").create({wait:!0,ordering:!0,timeout:!0}),deletePayload:t.path("/collections/{collection_name}/points/payload/delete").method("post").create({wait:!0,ordering:!0,timeout:!0}),clearPayload:t.path("/collections/{collection_name}/points/payload/clear").method("post").create({wait:!0,ordering:!0,timeout:!0}),batchUpdate:t.path("/collections/{collection_name}/points/batch").method("post").create({wait:!0,ordering:!0,timeout:!0}),scrollPoints:t.path("/collections/{collection_name}/points/scroll").method("post").create({consistency:!0,timeout:!0}),searchPoints:t.path("/collections/{collection_name}/points/search").method("post").create({consistency:!0,timeout:!0}),searchBatchPoints:t.path("/collections/{collection_name}/points/search/batch").method("post").create({consistency:!0,timeout:!0}),searchPointGroups:t.path("/collections/{collection_name}/points/search/groups").method("post").create({consistency:!0,timeout:!0}),recommendPoints:t.path("/collections/{collection_name}/points/recommend").method("post").create({consistency:!0,timeout:!0}),recommendBatchPoints:t.path("/collections/{collection_name}/points/recommend/batch").method("post").create({consistency:!0,timeout:!0}),recommendPointGroups:t.path("/collections/{collection_name}/points/recommend/groups").method("post").create({consistency:!0,timeout:!0}),discoverPoints:t.path("/collections/{collection_name}/points/discover").method("post").create({consistency:!0,timeout:!0}),discoverBatchPoints:t.path("/collections/{collection_name}/points/discover/batch").method("post").create({consistency:!0,timeout:!0}),countPoints:t.path("/collections/{collection_name}/points/count").method("post").create({consistency:!0,timeout:!0}),facet:t.path("/collections/{collection_name}/facet").method("post").create({consistency:!0,timeout:!0}),queryPoints:t.path("/collections/{collection_name}/points/query").method("post").create({consistency:!0,timeout:!0}),queryBatchPoints:t.path("/collections/{collection_name}/points/query/batch").method("post").create({consistency:!0,timeout:!0}),queryPointsGroups:t.path("/collections/{collection_name}/points/query/groups").method("post").create({consistency:!0,timeout:!0}),searchMatrixPairs:t.path("/collections/{collection_name}/points/search/matrix/pairs").method("post").create({consistency:!0,timeout:!0}),searchMatrixOffsets:t.path("/collections/{collection_name}/points/search/matrix/offsets").method("post").create({consistency:!0,timeout:!0})}}(i)}const y="1.17.0",w={parseVersion(t){if(!t)throw new Error("Version is null");let e,o;if([e,o]=t.split(".",2),e=parseInt(e,10),o=parseInt(o,10),isNaN(e)||isNaN(o))throw new Error(`Unable to parse version, expected format: x.y[.z], found: ${t}`);return{major:e,minor:o}},isCompatible(t,e){if(!t||!e)return console.debug(`Unable to compare versions with null values. Client: ${t}, Server: ${e}`),!1;if(t===e)return!0;try{const o=w.parseVersion(t),i=w.parseVersion(e);return o.major===i.major&&Math.abs(o.minor-i.minor)<=1}catch(t){return console.debug(`Unable to compare versions: ${t}`),!1}}},f=()=>{throw new Error("Result came uninitialized")};class g{constructor({url:t,host:e,apiKey:o,https:i,prefix:a,port:s=6333,timeout:n=3e5,checkCompatibility:r=!0,...c}={}){if(this._https=i??"string"==typeof o,this._scheme=this._https?"https":"http",this._prefix=a??"",this._prefix.length>0&&!this._prefix.startsWith("/")&&(this._prefix=`/${this._prefix}`),t&&e)throw new d(`Only one of \`url\`, \`host\` params can be set. Url is ${t}, host is ${e}`);if(e&&(e.startsWith("http://")||e.startsWith("https://")||/:\d+$/.test(e)))throw new d("The `host` param is not expected to contain neither protocol (http:// or https://) nor port (:6333).\nTry to use the `url` parameter instead.");if(t){if(!t.startsWith("http://")&&!t.startsWith("https://"))throw new d("The `url` param expected to contain a valid URL starting with a protocol (http:// or https://).");const e=new URL(t);if(this._host=e.hostname,this._port=e.port?Number(e.port):s,this._scheme=e.protocol.replace(":",""),this._prefix.length>0&&"/"!==e.pathname)throw new d(`Prefix can be set either in \`url\` or in \`prefix\`.\nurl is ${t}, prefix is ${e.pathname}`)}else this._port=s,this._host=e??"127.0.0.1";const l=new Headers([["user-agent","qdrant-js/"+String(y)]]),h=c.headers??{};Object.keys(h).forEach((t=>{h[t]&&l.set(t,String(h[t]))})),"string"==typeof o&&("http"===this._scheme&&console.warn("Api key is used with unsecure connection."),l.set("api-key",o));const p=this._port?`${this._host}:${this._port}`:this._host;this._restUri=`${this._scheme}://${p}${this._prefix}`;const u=c.maxConnections,m={headers:l,timeout:n,connections:u};this._openApiClient=_(this._restUri,m),r&&this._openApiClient.root({}).then((t=>{const e=t.data.version;w.isCompatible(y,e)||console.warn(`Client version ${y} is incompatible with server version ${e}. Major versions should match and minor version difference must not exceed 1. Set checkCompatibility=false to skip version check.`)})).catch((()=>{console.warn("Failed to obtain server version. Unable to check client-server compatibility. Set checkCompatibility=false to skip version check.")}))}api(){return this._openApiClient}async searchBatch(t,{searches:e,consistency:o,timeout:i}){return(await this._openApiClient.searchBatchPoints({collection_name:t,consistency:o,timeout:i,searches:e})).data.result??f()}async search(t,{shard_key:e,vector:o,limit:i=10,offset:a=0,filter:s,params:n,with_payload:r=!0,with_vector:c=!1,score_threshold:l,consistency:h,timeout:p}){return(await this._openApiClient.searchPoints({collection_name:t,consistency:h,timeout:p,shard_key:e,vector:o,limit:i,offset:a,filter:s,params:n,with_payload:r,with_vector:c,score_threshold:l})).data.result??f()}async recommendBatch(t,{searches:e,consistency:o,timeout:i}){return(await this._openApiClient.recommendBatchPoints({collection_name:t,searches:e,consistency:o,timeout:i})).data.result??[]}async recommend_batch(t,{searches:e,consistency:o,timeout:i}){return(await this._openApiClient.recommendBatchPoints({collection_name:t,searches:e,consistency:o,timeout:i})).data.result??[]}async recommend(t,{shard_key:e,positive:o,negative:i,strategy:a,filter:s,params:n,limit:r=10,offset:c=0,with_payload:l=!0,with_vector:h=!1,score_threshold:p,using:d,lookup_from:u,consistency:m,timeout:_}){return(await this._openApiClient.recommendPoints({collection_name:t,limit:r,shard_key:e,positive:o,negative:i,strategy:a,filter:s,params:n,offset:c,with_payload:l,with_vector:h,score_threshold:p,using:d,lookup_from:u,consistency:m,timeout:_})).data.result??f()}async scroll(t,{shard_key:e,filter:o,consistency:i,timeout:a,limit:s=10,offset:n,with_payload:r=!0,with_vector:c=!1,order_by:l}={}){return(await this._openApiClient.scrollPoints({collection_name:t,shard_key:e,limit:s,offset:n,filter:o,with_payload:r,with_vector:c,order_by:l,consistency:i,timeout:a})).data.result??f()}async count(t,{shard_key:e,filter:o,exact:i=!0,timeout:a}={}){return(await this._openApiClient.countPoints({collection_name:t,shard_key:e,filter:o,exact:i,timeout:a})).data.result??f()}async collectionClusterInfo(t){return(await this._openApiClient.collectionClusterInfo({collection_name:t})).data.result??f()}async updateCollectionCluster(t,{timeout:e,...o}){return(await this._openApiClient.updateCollectionCluster({collection_name:t,timeout:e,...o})).data.result??f()}async updateVectors(t,{wait:e=!0,ordering:o,timeout:i,points:a,shard_key:s}){return(await this._openApiClient.updateVectors({collection_name:t,wait:e,ordering:o,timeout:i,points:a,shard_key:s})).data.result??f()}async deleteVectors(t,{wait:e=!0,ordering:o,timeout:i,points:a,filter:s,vector:n,shard_key:r}){return(await this._openApiClient.deleteVectors({collection_name:t,wait:e,ordering:o,timeout:i,points:a,filter:s,vector:n,shard_key:r})).data.result??f()}async searchPointGroups(t,{consistency:e,timeout:o,shard_key:i,vector:a,filter:s,params:n,with_payload:r=null,with_vector:c=null,score_threshold:l,group_by:h,group_size:p,limit:d}){return(await this._openApiClient.searchPointGroups({collection_name:t,consistency:e,timeout:o,shard_key:i,vector:a,filter:s,params:n,with_payload:r,with_vector:c,score_threshold:l,group_by:h,group_size:p,limit:d})).data.result??f()}async recommendPointGroups(t,{consistency:e,timeout:o,shard_key:i,positive:a,strategy:s,negative:n=[],filter:r,params:c,with_payload:l=null,with_vector:h=null,score_threshold:p,using:d=null,lookup_from:u=null,group_by:m,group_size:_,limit:y}){return(await this._openApiClient.recommendPointGroups({collection_name:t,consistency:e,timeout:o,shard_key:i,positive:a,negative:n,strategy:s,filter:r,params:c,with_payload:l,with_vector:h,score_threshold:p,using:d,lookup_from:u,group_by:m,group_size:_,limit:y})).data.result??f()}async upsert(t,{wait:e=!0,ordering:o,timeout:i,...a}){return(await this._openApiClient.upsertPoints({collection_name:t,wait:e,ordering:o,timeout:i,...a})).data.result??f()}async retrieve(t,{shard_key:e,ids:o,with_payload:i=!0,with_vector:a,consistency:s,timeout:n}){return(await this._openApiClient.getPoints({collection_name:t,shard_key:e,ids:o,with_payload:i,with_vector:a,consistency:s,timeout:n})).data.result??f()}async delete(t,{wait:e,ordering:o,timeout:i,...a}){return(await this._openApiClient.deletePoints({collection_name:t,wait:e,ordering:o,timeout:i,...a})).data.result??f()}async setPayload(t,{payload:e,points:o,filter:i,shard_key:a,key:s,ordering:n,timeout:r,wait:c=!0}){return(await this._openApiClient.setPayload({collection_name:t,payload:e,points:o,filter:i,shard_key:a,key:s,wait:c,ordering:n,timeout:r})).data.result??f()}async overwritePayload(t,{ordering:e,timeout:o,payload:i,points:a,filter:s,shard_key:n,key:r,wait:c=!0}){return(await this._openApiClient.overwritePayload({collection_name:t,payload:i,points:a,filter:s,shard_key:n,key:r,wait:c,ordering:e,timeout:o})).data.result??f()}async deletePayload(t,{ordering:e,timeout:o,keys:i,points:a,filter:s,shard_key:n,wait:r=!0}){return(await this._openApiClient.deletePayload({collection_name:t,keys:i,points:a,filter:s,shard_key:n,wait:r,ordering:e,timeout:o})).data.result??f()}async clearPayload(t,{ordering:e,timeout:o,wait:i=!0,...a}){return(await this._openApiClient.clearPayload({collection_name:t,wait:i,ordering:e,timeout:o,...a})).data.result??f()}async updateCollectionAliases({actions:t,timeout:e}){return(await this._openApiClient.updateAliases({actions:t,timeout:e})).data.result??f()}async getCollectionAliases(t){return(await this._openApiClient.getCollectionAliases({collection_name:t})).data.result??f()}async getAliases(){return(await this._openApiClient.getCollectionsAliases({})).data.result??f()}async getCollections(){return(await this._openApiClient.getCollections({})).data.result??f()}async getCollection(t){return(await this._openApiClient.getCollection({collection_name:t})).data.result??f()}async updateCollection(t,e){return(await this._openApiClient.updateCollection({collection_name:t,...e})).data.result??f()}async deleteCollection(t,e){return(await this._openApiClient.deleteCollection({collection_name:t,...e})).data.result??f()}async createCollection(t,{timeout:e,vectors:o,hnsw_config:i,on_disk_payload:a,optimizers_config:s,quantization_config:n,replication_factor:r,shard_number:c,sharding_method:l,wal_config:h,write_consistency_factor:p,sparse_vectors:d,strict_mode_config:u}){return(await this._openApiClient.createCollection({collection_name:t,timeout:e,vectors:o,hnsw_config:i,on_disk_payload:a,optimizers_config:s,quantization_config:n,replication_factor:r,shard_number:c,sharding_method:l,wal_config:h,write_consistency_factor:p,sparse_vectors:d,strict_mode_config:u})).data.result??f()}async recreateCollection(t,{timeout:e,vectors:o,hnsw_config:i,on_disk_payload:a,optimizers_config:s,quantization_config:n,replication_factor:r,shard_number:c,sharding_method:l,wal_config:h,write_consistency_factor:p,sparse_vectors:d,strict_mode_config:u}){if(!(await this._openApiClient.deleteCollection({collection_name:t,timeout:e})).ok)throw new Error("Delete collection returned failed");return(await this._openApiClient.createCollection({collection_name:t,timeout:e,vectors:o,hnsw_config:i,on_disk_payload:a,optimizers_config:s,quantization_config:n,replication_factor:r,shard_number:c,sharding_method:l,wal_config:h,write_consistency_factor:p,sparse_vectors:d,strict_mode_config:u})).data.result??f()}async createPayloadIndex(t,{wait:e,ordering:o,timeout:i,field_name:a,field_schema:s}){return(await this._openApiClient.createFieldIndex({collection_name:t,field_name:a,field_schema:s,wait:e,ordering:o,timeout:i})).data.result??f()}async deletePayloadIndex(t,e,{wait:o=!0,ordering:i,timeout:a}={}){return(await this._openApiClient.deleteFieldIndex({collection_name:t,field_name:e,wait:o,ordering:i,timeout:a})).data.result??f()}async listSnapshots(t){return(await this._openApiClient.listSnapshots({collection_name:t})).data.result??f()}async createSnapshot(t,e){return(await this._openApiClient.createSnapshot({collection_name:t,...e})).data.result??null}async deleteSnapshot(t,e,o){return(await this._openApiClient.deleteSnapshot({collection_name:t,snapshot_name:e,...o})).data.result??f()}async listFullSnapshots(){return(await this._openApiClient.listFullSnapshots({})).data.result??f()}async createFullSnapshot(t){return(await this._openApiClient.createFullSnapshot(t??{})).data.result??f()}async deleteFullSnapshot(t,e){return(await this._openApiClient.deleteFullSnapshot({snapshot_name:t,...e})).data.result??f()}async recoverSnapshot(t,{location:e,priority:o,checksum:i,api_key:a}){return(await this._openApiClient.recoverFromSnapshot({collection_name:t,location:e,priority:o,checksum:i,api_key:a})).data.result??f()}async batchUpdate(t,{wait:e=!0,ordering:o,timeout:i,...a}){return(await this._openApiClient.batchUpdate({collection_name:t,wait:e,ordering:o,timeout:i,...a})).data.result??f()}async recoverShardFromSnapshot(t,e,{wait:o=!0,...i}){return(await this._openApiClient.recoverShardFromSnapshot({collection_name:t,shard_id:e,wait:o,...i})).data.result??f()}async listShardSnapshots(t,e){return(await this._openApiClient.listShardSnapshots({collection_name:t,shard_id:e})).data.result??f()}async createShardSnapshot(t,e,{wait:o=!0}){return(await this._openApiClient.createShardSnapshot({collection_name:t,shard_id:e,wait:o})).data.result??f()}async deleteShardSnapshot(t,e,o,{wait:i=!0}){return(await this._openApiClient.deleteShardSnapshot({collection_name:t,shard_id:e,snapshot_name:o,wait:i})).data.result??f()}async listShardKeys(t){return(await this._openApiClient.listShardKeys({collection_name:t})).data.result??f()}async createShardKey(t,{shard_key:e,shards_number:o,replication_factor:i,placement:a,initial_state:s,timeout:n}){return(await this._openApiClient.createShardKey({collection_name:t,shard_key:e,shards_number:o,replication_factor:i,placement:a,initial_state:s,timeout:n})).data.result??f()}async deleteShardKey(t,{shard_key:e,timeout:o}){return(await this._openApiClient.deleteShardKey({collection_name:t,shard_key:e,timeout:o})).data.result??f()}async discoverPoints(t,{consistency:e,timeout:o,shard_key:i,target:a,context:s,params:n,limit:r,offset:c,with_payload:l,with_vector:h,using:p,lookup_from:d}){return(await this._openApiClient.discoverPoints({collection_name:t,consistency:e,timeout:o,shard_key:i,target:a,context:s,params:n,limit:r,offset:c,with_payload:l,with_vector:h,using:p,lookup_from:d})).data.result??f()}async discoverBatchPoints(t,{consistency:e,timeout:o,searches:i}){return(await this._openApiClient.discoverBatchPoints({collection_name:t,consistency:e,timeout:o,searches:i})).data.result??f()}async clusterTelemetry(t){return(await this._openApiClient.clusterTelemetry(t??{})).data.result??f()}async getOptimizations(t,e){return(await this._openApiClient.getOptimizations({collection_name:t,...e})).data.result??f()}async versionInfo(){return(await this._openApiClient.root({})).data}async collectionExists(t){return(await this._openApiClient.collectionExists({collection_name:t})).data.result??f()}async query(t,{consistency:e,timeout:o,shard_key:i,prefetch:a,query:s,using:n,filter:r,params:c,score_threshold:l,limit:h,offset:p,with_vector:d,with_payload:u,lookup_from:m}){return(await this._openApiClient.queryPoints({collection_name:t,consistency:e,timeout:o,shard_key:i,prefetch:a,query:s,using:n,filter:r,params:c,score_threshold:l,limit:h,offset:p,with_vector:d,with_payload:u,lookup_from:m})).data.result??f()}async queryBatch(t,{consistency:e,timeout:o,searches:i}){return(await this._openApiClient.queryBatchPoints({collection_name:t,consistency:e,timeout:o,searches:i})).data.result??f()}async queryGroups(t,{consistency:e,timeout:o,shard_key:i,prefetch:a,query:s,using:n,filter:r,params:c,score_threshold:l,with_vector:h,with_payload:p,group_by:d,group_size:u,limit:m,with_lookup:_}){return(await this._openApiClient.queryPointsGroups({collection_name:t,consistency:e,timeout:o,shard_key:i,prefetch:a,query:s,using:n,filter:r,params:c,score_threshold:l,with_vector:h,with_payload:p,group_by:d,group_size:u,limit:m,with_lookup:_})).data.result??f()}async facet(t,{consistency:e,timeout:o,shard_key:i,key:a,limit:s,filter:n,exact:r}){return(await this._openApiClient.facet({collection_name:t,consistency:e,timeout:o,shard_key:i,key:a,limit:s,filter:n,exact:r})).data.result??f()}async searchMatrixPairs(t,{consistency:e,timeout:o,shard_key:i,filter:a,sample:s,limit:n,using:r}){return(await this._openApiClient.searchMatrixPairs({collection_name:t,consistency:e,timeout:o,shard_key:i,filter:a,sample:s,limit:n,using:r})).data.result??f()}async searchMatrixOffsets(t,{consistency:e,timeout:o,shard_key:i,filter:a,sample:s,limit:n,using:r}){return(await this._openApiClient.searchMatrixOffsets({collection_name:t,consistency:e,timeout:o,shard_key:i,filter:a,sample:s,limit:n,using:r})).data.result??f()}}export{g as QdrantClient,d as QdrantClientConfigError,m as QdrantClientResourceExhaustedError,u as QdrantClientTimeoutError,p as QdrantClientUnexpectedResponseError};
